require(["gitbook","jquery"],function(t,e){function n(e){s=t.storage.get("themeElixir",{split:e.split,currentLang:null})}function a(){t.storage.set("themeElixir",s),i()}function i(){e(".book").toggleClass("two-columns",s.split),r=e(".elixir-sample"),r.each(function(){var t=!(e(this).data("lang")==s.currentLang);e(this).toggleClass("hidden",t)})}function o(){t.toolbar.removeButtons(l),l=[],r=e(".elixir-sample");var n=[],i=!1;r.each(function(){var t,a,o=!1,r=e(this).data("lang"),l=e(this).data("name");r==s.currentLang&&(i=!0,o=!0),t=e.grep(n,function(t){return t.name==l}),a=!!t.length,a||n.push({name:l,lang:r,"default":o})}),n.reverse(),e.each(n,function(o,r){var c,g=r["default"]||!i&&o==n.length-1;c=t.toolbar.createButton({text:r.name,position:"right",className:"lang-switcher"+(g?" active":""),onClick:function(t){s.currentLang=r.lang,a(),e(".btn.lang-switcher.active").removeClass("active"),e(t.currentTarget).addClass("active")}}),l.push(c),g&&(s.currentLang=r.lang)})}var r,s,l=[],c=[{config:"light",text:"Light",id:0},{config:"dark",text:"Dark",id:3}];t.events.bind("start",function(e,i){var o=i["theme-elixir"];t.toolbar.createButton({icon:"fa fa-columns",label:"Change Layout",onClick:function(){s.split=!s.split,a()}}),t.fontsettings.setThemes(c),t.fontsettings.setTheme(o.theme),n(o)}),t.events.on("page.change",function(){o(),i()}),t.events.on("comment.toggled",function(e,n,a){if(n.parents(".elixir-definition").length){var i=t.state.$book.find(".page-wrapper");i.toggleClass("comments-open-from-definition",a&&s.split)}})});
